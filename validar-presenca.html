<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <title>ProComitês Tocantins - Confirmar Participação</title>
  <link rel="icon" href="./favicon.svg" type="image/svg+xml" />
  <link rel="stylesheet" href="./styles.css?v=20250223a" />
</head>
<body>

  <div class="site-top-bar">
    <div class="container">
      <header>
        <div class="brand">
          <h1>Confirmar Participação</h1>
          <p id="subTitle">Portal dos Comitês de Bacias Hidrográficas do Tocantins</p>
        </div>
        <div class="meeting-headline">
          <span class="badge" id="reuniaoBadge" style="border-color: rgba(255,255,255,0.3); color: #fff; background: rgba(255,255,255,0.12);">Reunião: -</span>
          <div id="reuniaoMeta" class="small" style="color: rgba(255,255,255,0.7);">Selecione uma reunião para continuar.</div>
          <a id="reuniaoLocalLink" class="portal-nav-link hidden" href="#" target="_blank" rel="noopener" style="color: #fff; border-color: rgba(255,255,255,0.3); background: rgba(255,255,255,0.12);">Abrir link da reunião</a>
        </div>
      </header>
    </div>
  </div>

  <div class="site-nav-bar">
    <div class="container">
      <nav>
        <a class="nav-link" href="./index.html">Home</a>
        <a class="nav-link" href="./noticias.html">Notícias</a>
        <a class="nav-link" href="./comites.html">Comitês do Tocantins</a>
        <a class="nav-link" href="./fale-conosco.html">Fale Conosco</a>
        <a class="nav-link active" href="./validar-presenca.html">Confirmar Participação</a>
        <a class="nav-link" href="./painel.html">Painel</a>
      </nav>
    </div>
  </div>

  <div class="container">
    <div id="notice" class="notice hidden"></div>

    <div class="card">
      <div class="panel-module-tabs" style="margin-bottom: 14px;">
        <button id="btnPublicTabConfirmar" class="panel-module-tab active" type="button">Confirmar participação</button>
        <button id="btnPublicTabDiaria" class="panel-module-tab" type="button">Solicitar diárias</button>
        <button id="btnPublicTabAssinatura" class="panel-module-tab" type="button">Validar assinatura</button>
      </div>

      <div id="panelPublicConfirmar">
        <div id="panelEscolha" class="hidden">
          <div class="row">
            <div class="field">
              <label>Comitê</label>
              <select id="pubComite"></select>
            </div>
            <div class="field">
              <label>Reunião agendada</label>
              <select id="pubReuniao"></select>
            </div>
          </div>
          <hr />
        </div>

        <div class="row">
          <div class="field">
            <label>CPF (apenas números)</label>
            <input id="cpf" inputmode="numeric" placeholder="00000000000" />
          </div>
          <div style="align-self: flex-end;">
            <button id="btnValidar" class="primary" type="button">Confirmar participação</button>
          </div>
        </div>

        <div id="panelNovo" class="hidden" style="margin-top: 14px;">
          <hr />
          <div class="small" style="margin-bottom: 8px;">Não encontramos seu CPF para esta reunião. Preencha seus dados:</div>
          <div class="row">
            <div class="field">
              <label>Nome</label>
              <input id="nome" />
            </div>
            <div class="field">
              <label>E-mail</label>
              <input id="email" type="email" />
            </div>
          </div>
          <div class="row" style="margin-top: 10px;">
            <div class="field">
              <label>Telefone</label>
              <input id="telefone" />
            </div>
            <div class="field">
              <label>Órgão</label>
              <input id="orgao" />
            </div>
          </div>
          <div class="row" style="margin-top: 10px;">
            <div class="field">
              <label>Cidade que reside</label>
              <input id="cidade" />
            </div>
            <div class="field">
              <label>Perfil</label>
              <select id="perfil">
                <option value="Membro">Membro</option>
                <option value="Secretario">Secretário</option>
                <option value="Vice-Presidente">Vice-Presidente</option>
                <option value="Presidente">Presidente</option>
                <option value="Visitante">Visitante</option>
              </select>
            </div>
          </div>
          <div class="row" style="margin-top: 12px;">
            <button id="btnSalvarNovo" class="primary" type="button">Confirmar participação</button>
          </div>
        </div>

        <div id="panelCodigo" class="hidden" style="margin-top: 14px;">
          <hr />
          <div class="small">Código de participação validada:</div>
          <div id="codigo" class="code" style="font-size: 22px; margin-top: 6px;"></div>
        </div>
      </div>

      <div id="panelPublicDiaria" class="hidden">
        <div class="small" style="margin-bottom: 10px;">Solicitação de diárias (separada da confirmação de participação).</div>
        <div class="row">
          <div class="field">
            <label>Comitê</label>
            <select id="diariaComite" required></select>
          </div>
          <div class="field">
            <label>Tipo da solicitação</label>
            <select id="diariaTipoParticipacao" required>
              <option value="">Selecione...</option>
              <option value="reuniao">Participação em reunião ordinária</option>
              <option value="evento">Participação em evento</option>
              <option value="outro">Outro motivo</option>
            </select>
          </div>
        </div>

        <div id="diariaReuniaoWrap" class="hidden" style="margin-top: 10px;">
          <div class="row">
            <div class="field">
              <label>Reunião ordinária</label>
              <select id="diariaReuniao"></select>
            </div>
          </div>
        </div>

        <div class="row" style="margin-top: 10px;">
          <div class="field">
            <label>CPF (apenas números)</label>
            <input id="diariaCpf" inputmode="numeric" placeholder="00000000000" required />
          </div>
          <div class="field">
            <label>Nome completo</label>
            <input id="diariaNome" required />
          </div>
        </div>

        <div class="row" style="margin-top: 10px;">
          <div class="field">
            <label>E-mail</label>
            <input id="diariaEmail" type="email" required />
          </div>
          <div class="field">
            <label>Telefone</label>
            <input id="diariaTelefone" required />
          </div>
        </div>

        <div class="row" style="margin-top: 10px;">
          <div class="field">
            <label>Órgão</label>
            <input id="diariaOrgao" required />
          </div>
          <div class="field">
            <label>Cidade de residência</label>
            <input id="diariaCidade" required />
          </div>
          <div class="field">
            <label>Perfil</label>
            <select id="diariaPerfil" required>
              <option value="Membro">Membro</option>
              <option value="Secretario">Secretário</option>
              <option value="Vice-Presidente">Vice-Presidente</option>
              <option value="Presidente">Presidente</option>
              <option value="Visitante">Visitante</option>
            </select>
          </div>
        </div>

        <div id="diariaDescricaoSolicitacaoWrap" class="row hidden" style="margin-top: 10px;">
          <div class="field">
            <label>Solicitação será para quê? (Detalhe o motivo da viagem)</label>
            <textarea id="diariaDescricaoSolicitacao" rows="2" placeholder="Descreva o motivo da viagem."></textarea>
          </div>
        </div>

        <div class="row" style="margin-top: 10px;">
          <div class="field">
            <label>Descrição da ação que será realizada</label>
            <textarea id="diariaDescricaoAcao" rows="3" placeholder="Descreva objetivo, agenda e atividades." required></textarea>
          </div>
        </div>

        <div class="row" style="margin-top: 10px;">
          <div class="field">
            <label>Saída (origem)</label>
            <input id="diariaOrigem" placeholder="Ex.: Palmas - TO" required />
          </div>
          <div class="field">
            <label>Chegada (destino)</label>
            <input id="diariaDestino" placeholder="Ex.: Araguaína - TO" required />
          </div>
        </div>

        <div class="row" style="margin-top: 10px;">
          <div class="field">
            <label>Itinerário (de onde para onde, escalas, etc.)</label>
            <textarea id="diariaItinerario" rows="2" placeholder="Ex.: Palmas > Gurupi > Araguaína" required></textarea>
          </div>
        </div>

        <div class="row" style="margin-top: 10px;">
          <div class="field">
            <label>Data e horário de saída</label>
            <input id="diariaDataHoraSaida" type="datetime-local" required />
          </div>
          <div class="field">
            <label>Data e horário de chegada/retorno</label>
            <input id="diariaDataHoraChegada" type="datetime-local" required />
          </div>
        </div>

        <div class="row" style="margin-top: 10px; align-items: flex-end;">
          <div class="field">
            <label>Upload de anexo (convite, card, ofício)</label>
            <input id="diariaAnexo" type="file" accept=".pdf,.png,.jpg,.jpeg,.webp,.doc,.docx" required />
            <div id="diariaAnexoStatus" class="small" style="margin-top: 4px;"></div>
          </div>
          <button id="btnEnviarDiaria" class="primary" type="button">Enviar solicitação de diária</button>
        </div>
      </div>

      <div id="panelPublicAssinatura" class="hidden">
        <div class="small" style="margin-bottom: 10px;">Validação pública do código da assinatura/presença final.</div>
        <div class="row">
          <div class="field">
            <label>ID da confirmação</label>
            <input id="assinaturaIdConfirmacao" placeholder="Cole o ID da confirmação" />
          </div>
          <div class="field">
            <label>Código de assinatura</label>
            <input id="assinaturaCodigo" placeholder="Ex.: A1B2C3" />
          </div>
          <div style="align-self: flex-end;">
            <button id="btnValidarAssinatura" class="primary" type="button">Validar assinatura</button>
          </div>
        </div>
        <div id="assinaturaResultado" class="hidden" style="margin-top: 10px;">
          <hr />
          <div id="assinaturaResultadoTexto" class="small"></div>
        </div>
      </div>
    </div>

    <div class="small" style="margin-top: 12px;">
      Dica: esta página faz a pré-confirmação. A validação final é realizada pelo Secretário/Presidente durante a reunião.
    </div>
  </div>

  <footer class="site-footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-brand">
          ProComitês
          <span>Portal dos Comitês de Bacias Hidrográficas do Tocantins</span>
        </div>
        <div class="footer-links">
          <a href="./index.html">Home</a>
          <a href="./noticias.html">Notícias</a>
          <a href="./comites.html">Comitês</a>
          <a href="./fale-conosco.html">Contato</a>
        </div>
      </div>
    </div>
  </footer>

  <script>
    window.APPS_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbzPGdYJ6kYEPPDCZUaoCqyxoDvtlwQOTunvvkPP2RHjMg0TzvflUQdfMcGxE-hSTgT3/exec";
  </script>
  <script src="./app.js?v=20260223e"></script>
</body>
</html>
